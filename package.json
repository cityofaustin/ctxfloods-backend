{
  "name": "ctxfloods-backend",
  "version": "0.0.1",
  "description": "CTXFloods serverless backend",
  "main": "handler.js",
  "config": {
    "PGLOCALCON": "postgresql://postgres@localhost:5432/floods",
    "PGLOCALRUNCON": "postgresql://floods_postgraphql@localhost:5432/floods",
    "PGLOCALINITCON": "postgresql://postgres@localhost:5432/",
    "FRONTEND_URL_LOCAL": "localhost:3000"
  },
  "scripts": {
    "start-express-server": "PGCON=$npm_package_config_PGLOCALRUNCON FRONTEND_URL=$npm_package_config_FRONTEND_URL_LOCAL JWT_SECRET='insecure' node localServer.js",
    "local-drop-rebuild": "yarn run drop-local-data;yarn run populate-local-schema;yarn run populate-local-data;yarn run build-local-schema;",
    "local-drop-rebuild-with-tons-of-crossings": "yarn run drop-local-data;yarn run populate-local-schema;yarn run add-tons-of-crossings-to-local-db;yarn run build-local-schema;",
    "start": "yarn run local-drop-rebuild;yarn run start-express-server",
    "start-with-tons-of-crossings": "yarn run local-drop-rebuild-with-tons-of-crossings;yarn run start-express-server",
    "rebuild-and-deploy": "yarn run drop-data;yarn run populate-schema;yarn run populate-data;yarn run build-schema;sls deploy -v",
    "rebuild-and-deploy-with-tons-of-crossings": "yarn run drop-data;yarn run populate-schema;yarn run add-tons-of-crossings-to-db;yarn run build-schema;sls deploy -v",
    "test": "JWT_SECRET='insecure' react-scripts test",
    "test-on-aws": "USE_AWS_ENDPOINT=true react-scripts test",
    "populate-schema": "psql $npm_config_PGCON -f ./populateDB/schema.sql",
    "populate-local-schema": "psql $npm_package_config_PGLOCALCON -f ./populateDB/schema.sql",
    "populate-data": "psql $npm_config_PGCON -f ./populateDB/data.sql",
    "populate-local-data": "psql $npm_package_config_PGLOCALCON -f ./populateDB/data.sql",
    "drop-data": "psql $npm_config_PGCON -f ./populateDB/drop.sql",
    "drop-local-data": "psql $npm_package_config_PGLOCALCON -f ./populateDB/drop.sql",
    "init-local-db": "psql $npm_package_config_PGLOCALINITCON -f ./populateDB/initLocal.sql",
    "add-tons-of-crossings-to-db": "psql $npm_config_PGCON -f ./populateDB/addTonsOfCrossings.sql",
    "add-tons-of-crossings-to-local-db": "psql $npm_package_config_PGLOCALCON -f ./populateDB/addTonsOfCrossings.sql",
    "build-schema": "node ./pgCatalog/buildPgCatalog.js $npm_config_PGCON floods",
    "build-local-schema": "node ./pgCatalog/buildPgCatalog.js $npm_package_config_PGLOCALCON floods"
  },
  "author": "Richard",
  "license": "MIT",
  "dependencies": {
    "graphql": "^0.8.2",
    "jsonwebtoken": "^8.2.0",
    "lokka": "^1.7.0",
    "lokka-transport-http": "^1.6.1",
    "nodemailer": "^4.6.3",
    "pg-minify": "^0.4.2",
    "postgraphql": "^2.5.0",
    "prettier": "^1.10.2",
    "react-scripts": "^1.0.10",
    "uuid": "^3.1.0",
    "xml2js": "^0.4.19"
  },
  "prettier": {
    "semi": true,
    "singleQuote": true,
    "trailingComma": "all"
  },
  "devDependencies": {
    "cors": "^2.8.4",
    "express": "^4.16.3"
  }
}
